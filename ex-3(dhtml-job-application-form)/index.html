<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Job Application Form</title>

<style>
* {
    box-sizing: border-box;
}

body {
    font-family: Arial, sans-serif;
    background: #f4f6f8;
    padding: 20px;
}

form {
    background: #fff;
    padding: 20px 25px;
    max-width: 820px;
    margin: auto;
    border-radius: 8px;
    box-shadow: 0 0 8px rgba(0,0,0,0.08);
}

h2 {
    border-bottom: 1.5px solid #ccc;
    padding-bottom: 6px;
    margin-top: 25px;
}

label {
    display: block;
    margin-top: 12px;
    font-weight: 500;
}

input, textarea, select {
    width: 100%;
    padding: 8px 10px;
    margin-top: 6px;
    border-radius: 4px;
    border: 1px solid #bbb;
    font-size: 14px;
}

textarea {
    resize: vertical;
}

.section {
    border: 1px solid #ccc;
    padding: 12px 15px;
    margin-top: 12px;
    border-radius: 6px;
    background: #fafafa;
}

button {
    margin-top: 10px;
    padding: 7px 14px;
    border: none;
    border-radius: 4px;
    background: #007bff;
    color: white;
    font-size: 14px;
    cursor: pointer;
}

button:hover {
    background: #b30086;
}

.section button {
    background: #dc3545;
}

.section button:hover {
    background: #b02a37;
}

.tooltip {
    font-size: 12px;
    color: #555;
    margin-top: 4px;
    display: none;
}

.error {
    color: red;
    font-size: 13px;
    margin-top: 10px;
}

.counter {
    font-size: 12px;
    text-align: right;
    margin-top: 4px;
    color: #555;
}
</style>
</head>

<body>

<form onsubmit="return validateForm()">
<h1 align="center">Job Application Form</h1>
<h2>Personal Details</h2>

<label>Full Name *</label>
<input type="text" id="name" required
       onfocus="showTip('nameTip')" 
       onblur="hideTip('nameTip')">
<div id="nameTip" class="tooltip">Enter your full name</div>

<label>Email *</label>
<input type="email" id="email" required>

<label>Phone *</label>
<input type="text" id="phone" required>

<h2>Education Details</h2>
<div id="educationSection"></div>
<button type="button" onclick="addEducation()">Add Education</button>

<h2>Work Experience</h2>
<div id="experienceSection"></div>
<button type="button" onclick="addExperience()">Add Experience</button>

<h2>Resume Upload</h2>
<label>Upload Resume (PDF/DOC/DOCX â€“ max 2MB) *</label>
<input type="file" id="resume" accept=".pdf,.doc,.docx" required>

<h2>About Yourself</h2>
<textarea id="about" maxlength="200" oninput="charCount()"></textarea>
<div class="counter" id="counter">0 / 200</div>

<div class="error" id="errorMsg"></div>

<button type="submit">Submit Application</button>

</form>

<script>
function addEducation() {
    let div = document.createElement("div");
    div.className = "section";
    div.innerHTML = `
        <label>Degree *</label>
        <input type="text" required>

        <label>Start Date *</label>
        <input type="date" class="start">

        <label>End Date *</label>
        <input type="date" class="end">

        <button type="button" onclick="this.parentElement.remove()">Remove</button>
    `;
    document.getElementById("educationSection").appendChild(div);
}

function addExperience() {
    let div = document.createElement("div");
    div.className = "section";
    div.innerHTML = `
        <label>Company Name *</label>
        <input type="text" required>

        <label>Start Date *</label>
        <input type="date" class="start">

        <label>End Date *</label>
        <input type="date" class="end">

        <button type="button" onclick="this.parentElement.remove()">Remove</button>
    `;
    document.getElementById("experienceSection").appendChild(div);
}

function charCount() {
    let len = document.getElementById("about").value.length;
    document.getElementById("counter").innerText = len + " / 200";
}

function showTip(id) {
    document.getElementById(id).style.display = "block";
}

function hideTip(id) {
    document.getElementById(id).style.display = "none";
}

function validateForm() {
    let error = "";

    let file = document.getElementById("resume").files[0];
    if (file) {
        let size = file.size / (1024 * 1024);
        let ext = file.name.split('.').pop().toLowerCase();
        if (size > 2) error = "Resume size must be less than 2MB";
        if (!["pdf","doc","docx"].includes(ext)) error = "Invalid resume file type";
    }

    document.querySelectorAll(".section").forEach(sec => {
        let start = sec.querySelector(".start");
        let end = sec.querySelector(".end");
        if (start && end && start.value && end.value) {
            if (start.value > end.value) {
                error = "Start date must be before end date";
            }
        }
    });

    document.getElementById("errorMsg").innerText = error;
    return error === "";
}
</script>

</body>
</html>
